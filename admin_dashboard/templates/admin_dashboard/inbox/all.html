{% extends 'layouts/admin_dashboard.html' %}

{% load static %}

{% block content %}

<main class="pt-[108px]">
          <!-- write your code here-->
          <section class="lg:grid grid-cols-12 relative">
            <!-- Left Column -->
            <aside
              class="h-full 2xl:col-span-3 2xl:col-span-4 lg:col-span-5 bg-white border border-bgray-200 pr-7 pl-12 pt-6 pb-10 hidden lg:block">
              <header>
                <div class="flex justify-between items-center mb-6">
                  <h3 class="text-3xl font-semibold text-bgray-900">
                    Messages ({{ all_messages.count }})
                  </h3>
                  <button>
                    <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M22 12.7508V18.7411C22 20.9466 20.2091 22.7346 18 22.7346H6C3.79086 22.7346 2 20.9466 2 18.7411V6.76059C2 4.55504 3.79086 2.76709 6 2.76709H12M15.6864 4.78655C15.6864 4.78655 15.6864 6.21452 17.1167 7.64249C18.547 9.07046 19.9773 9.07046 19.9773 9.07046M9.15467 16.7339L12.1583 16.3055C12.5916 16.2437 12.9931 16.0433 13.3025 15.7343L21.4076 7.64249C22.1975 6.85384 22.1975 5.57519 21.4076 4.78655L19.9773 3.35857C19.1873 2.56993 17.9066 2.56993 17.1167 3.35857L9.01164 11.4504C8.70217 11.7594 8.50142 12.1602 8.43952 12.5928L8.01044 15.5915C7.91508 16.2579 8.4872 16.8291 9.15467 16.7339Z"
                        stroke="#28303F" stroke-width="1.5" stroke-linecap="round" />
                    </svg>
                  </button>
                </div>
                <div class="relative">
                  <span class="absolute left-4 top-3"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M2.75 11.5C2.75 16.3325 6.66751 20.25 11.5 20.25C16.3325 20.25 20.25 16.3325 20.25 11.5C20.25 6.66751 16.3325 2.75 11.5 2.75C6.66751 2.75 2.75 6.66751 2.75 11.5ZM11.5 21.75C5.83908 21.75 1.25 17.1609 1.25 11.5C1.25 5.83908 5.83908 1.25 11.5 1.25C17.1609 1.25 21.75 5.83908 21.75 11.5C21.75 14.0605 20.8111 16.4017 19.2589 18.1982L22.5303 21.4697C22.8232 21.7626 22.8232 22.2374 22.5303 22.5303C22.2374 22.8232 21.7626 22.8232 21.4697 22.5303L18.1982 19.2589C16.4017 20.8111 14.0605 21.75 11.5 21.75Z"
                        fill="#28303F" />
                    </svg>
                  </span>
                  <input type="text" class="border-0 w-full bg-bgray-100 rounded-lg py-3.5 pl-12"
                    placeholder="Search Message" />
                </div>
              </header>
              <div class="pt-6">               
                <!-- All Message -->
                <div class="pt-4">
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-x-2.5">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M4.00016 2C2.5274 2 1.3335 3.19391 1.3335 4.66667V11.3333C1.3335 12.8061 2.5274 14 4.00016 14H12.0002C13.4729 14 14.6668 12.8061 14.6668 11.3333V4.66667C14.6668 3.19391 13.4729 2 12.0002 2H4.00016ZM4.27751 4.91728C4.04775 4.7641 3.73732 4.82619 3.58414 5.05595C3.43096 5.28572 3.49305 5.59615 3.72281 5.74933L6.24361 7.42986C7.3073 8.13898 8.69303 8.13898 9.75671 7.42986L12.2775 5.74933C12.5073 5.59615 12.5694 5.28572 12.4162 5.05595C12.263 4.82619 11.9526 4.7641 11.7228 4.91728L9.20201 6.59781C8.47423 7.083 7.5261 7.083 6.79832 6.59781L4.27751 4.91728Z"
                          fill="#2A313C" />
                      </svg>
                      <span class="text-base text-bgray-700 font-medium">All Messages ({{ all_messages.count }})</span>
                    </div>
                    <div>
                      <button>
                        <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path
                            d="M9.99984 12.1761C9.07936 12.1761 8.33317 11.4311 8.33317 10.5121C8.33317 9.59312 9.07936 8.84814 9.99984 8.84814C10.9203 8.84814 11.6665 9.59312 11.6665 10.5121C11.6665 11.4311 10.9203 12.1761 9.99984 12.1761Z"
                            stroke="#2A313C" stroke-width="1.5" />
                          <path
                            d="M16.6665 12.1761C15.746 12.1761 14.9998 11.4311 14.9998 10.5121C14.9998 9.59312 15.746 8.84814 16.6665 8.84814C17.587 8.84814 18.3332 9.59312 18.3332 10.5121C18.3332 11.4311 17.587 12.1761 16.6665 12.1761Z"
                            stroke="#2A313C" stroke-width="1.5" />
                          <path
                            d="M3.33317 12.1761C2.4127 12.1761 1.6665 11.4311 1.6665 10.5121C1.6665 9.59312 2.4127 8.84814 3.33317 8.84814C4.25365 8.84814 4.99984 9.59312 4.99984 10.5121C4.99984 11.4311 4.25365 12.1761 3.33317 12.1761Z"
                            stroke="#2A313C" stroke-width="1.5" />
                        </svg>
                      </button>
                    </div>
                  </div>
                  
                  <ul class="pt-2 divide-y divide-bgray-300">
                    {% for message in all_messages %}
                    <a href="{% url 'admin-inbox-read' message.id %}">
                        <li
                        class="p-3.5 flex justify-between bg-transparent hover:bg-bgray-100 hover:rounded-lg transition-all cursor-pointer">
                        <div class="flex space-x-3 grow">
                            <div class="w-14 h-14 relative">
                            <img class="object-cover rounded-full" src="{{ message.user.profile.profile_picture.url }}" alt="avatar" />

                            <span
                                class="bg-bgray-300 border-2 border-white block w-[14px] h-[14px] rounded-full absolute bottom-1 right-0"></span>
                            </div>
                            <div>
                            <h4 class="text-xl font-bold text-bgray-900">
                                {{ message.user.first_name }}
                            </h4>
                            <span class="text-sm font-medium text-bgray-600">{{ message.title }}
                            </span>
                            </div>
                        </div>
                        <div class="flex flex-col items-center gap-2">
                            <span class="text-lg font-small text-bgray-700">{{ message.timestamp|timesince }} </span>
                        </div>
                        </li>
                    </a>
                    {% endfor %}
                    
                  </ul>
                </div>
              </div>
            </aside>
            
           
          </section>

          <!-- write your code here-->
</main>

{% endblock content %}