{% extends 'layouts/admin_dashboard.html' %}

{% load static %}

{% block content %}

<main class="w-full xl:px-[48px] px-6 pb-6 xl:pb-[48px] sm:pt-[156px] pt-[100px]">
          <!-- write your code here-->
          <div class="flex 2xl:flex-row 2xl:space-x-11 flex-col space-y-20">
            <aside class="3xl:w-[382px] w-full bg-white dark:bg-darkblack-600 rounded-lg px-12 pb-7">
              <header class="flex flex-col items-center text-center -mt-8 pb-7">
                <img src="{% static 'assets/images/avatar/user-1.png' %}" class="rounded-lg" alt="" />
                <h3 class="text-xl font-bold text-bgray-700 dark:text-white mt-4">
                  {{ user_loan.user.first_name}} {{ user_loan.user.last_name}}
                </h3>
                <p class="text-base font-medium text-bgray-500 dark:text-white">
                  Applied • {{ user_loan.created_at|timesince}} ago
                </p> 
                <br>
                {% if user_loan.status == 'pending' %}
                    <span class="bg-bamber-50 dark:bg-darkblack-500 rounded-lg text-sm text-bamber-500 font-medium text-am px-3 py-1">
                        Pending
                    </span>
                {% elif user_loan.status == 'approved' %}
                    <span class="bg-success-50 dark:bg-darkblack-500 text-sm text-success-300 font-medium rounded-lg py-1 px-3">
                        Approved
                    </span>
                {% else %}
                    <span class="bg-error-50 dark:bg-darkblack-500 rounded-lg text-sm text-error-300 font-medium text-am px-3 py-1">
                        Declined
                    </span>
                {% endif %}                   
              </header>
              <p>Personal Information</p>
              <ul class="py-7 border-t border-b border-gray-200 dark:border-darkblack-400 space-y-6">
                <li class="flex justify-between">
                  <span class="font-medium text-gray-500 text-sm dark:text-white">Date Of Birth</span>
                  <span class="text-sm font-semibold text-bgray-900 dark:text-white">
                    {{ user_loan.date_of_birth }}</span>
                </li>
                <li class="flex justify-between">
                  <span class="font-medium text-gray-500 text-sm dark:text-white">Marital Status</span>
                  <span class="text-sm font-semibold text-bgray-900 dark:text-white">
                    {{ user_loan.marital_status }}</span>
                </li>
                <li class="flex justify-between">
                  <span class="font-medium text-gray-500 text-sm dark:text-white">Mobile Number</span>
                  <span class="text-sm font-semibold text-bgray-900 dark:text-white">
                    {{ user_loan.mobile_number }}</span>
                </li>
                <li class="flex justify-between">
                  <span class="font-medium text-gray-500 text-sm dark:text-white">Salary</span>
                  <span class="text-sm font-semibold text-bgray-900 dark:text-white">
                    $250-300</span>
                </li>
                <li class="flex justify-between">
                  <span class="font-medium text-gray-500 text-sm dark:text-white">Job</span>
                  <span class="text-sm font-semibold text-bgray-900 dark:text-white">
                    Developer</span>
                </li>
              </ul>

              <p>Address Information</p>
              <ul class="py-7 border-t border-b border-gray-200 dark:border-darkblack-400 space-y-6">
                <li class="flex justify-between">
                  <span class="font-medium text-gray-500 text-sm dark:text-white">Address</span>
                  <span class="text-sm font-semibold text-bgray-900 dark:text-white">
                    {{ user_loan.address }}</span>
                </li>
                <li class="flex justify-between">
                  <span class="font-medium text-gray-500 text-sm dark:text-white">Country</span>
                  <span class="text-sm font-semibold text-bgray-900 dark:text-white">
                    {{ user_loan.country }}</span>
                </li>
                <li class="flex justify-between">
                  <span class="font-medium text-gray-500 text-sm dark:text-white">City</span>
                  <span class="text-sm font-semibold text-bgray-900 dark:text-white">
                    {{ user_loan.city }}</span>
                </li>
                <li class="flex justify-between">
                  <span class="font-medium text-gray-500 text-sm dark:text-white">Potal Code</span>
                  <span class="text-sm font-semibold text-bgray-900 dark:text-white">
                    {{ user_loan.postal_code }}</span>
                </li>  
              </ul>

              <p>Loan Details</p>
              <ul class="py-7 border-t border-b border-gray-200 dark:border-darkblack-400 space-y-6">
                <li class="flex justify-between">
                  <span class="font-medium text-gray-500 text-sm dark:text-white">Loan Type</span>
                  <span class="text-sm font-semibold text-bgray-900 dark:text-white">
                    {{ user_loan.loan_type }}</span>
                </li>
                <li class="flex justify-between">
                  <span class="font-medium text-gray-500 text-sm dark:text-white">Amount</span>
                  <span class="text-sm font-semibold text-bgray-900 dark:text-white">
                    ₵{{ user_loan.amount }}</span>
                </li>
                <li class="flex justify-between">
                  <span class="font-medium text-gray-500 text-sm dark:text-white">Outanding Balance</span>
                  <span class="text-sm font-semibold text-bgray-900 dark:text-white">
                    ₵{{ user_loan.outsatnding_balance }}</span>
                </li>
                <li class="flex justify-between">
                  <span class="font-medium text-gray-500 text-sm dark:text-white">Loan Duration</span>
                  <span class="text-sm font-semibold text-bgray-900 dark:text-white">
                    {{ user_loan.duration }} Months</span>
                </li>
                <li class="flex justify-between">
                  <span class="font-medium text-gray-500 text-sm dark:text-white">Finance Type</span>
                  <span class="text-sm font-semibold text-bgray-900 dark:text-white">
                    {{ user_loan.finance_type|capfirst }}</span>
                </li>
                <li class="flex justify-between">
                  <span class="font-medium text-gray-500 text-sm dark:text-white">Interest Rate</span>
                  <span class="text-sm font-semibold text-bgray-900 dark:text-white">
                    {{ user_loan.interest_rate }}</span>
                </li>
                
              </ul>
              <div class="py-6 border-b border-bgray-200 dark:border-darkblack-400">
                <h4 class="font-medium text-gray-500 text-sm dark:text-white mb-3">Files</h4>
                <ul class="space-y-2.5">                  
                  <li
                    class="bg-[#E4FDED] dark:bg-darkblack-500 py-3 px-2 pr-4 flex justify-between items-center rounded-lg">
                    <div class="flex items-center gap-x-3">
                      <span
                        class="bg-white dark:bg-darkblack-600 w-10 h-10 rounded-lg inline-flex justify-center items-center">
                        <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path
                            d="M12.8334 2.74951V6.41618C12.8334 6.65929 12.93 6.89245 13.1019 7.06436C13.2738 7.23627 13.5069 7.33285 13.75 7.33285H17.4167"
                            stroke="#22C55E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                          <path
                            d="M15.5834 19.2495H6.41671C5.93048 19.2495 5.46416 19.0564 5.12034 18.7125C4.77653 18.3687 4.58337 17.9024 4.58337 17.4162V4.58285C4.58337 4.09661 4.77653 3.6303 5.12034 3.28648C5.46416 2.94267 5.93048 2.74951 6.41671 2.74951H12.8334L17.4167 7.33285V17.4162C17.4167 17.9024 17.2236 18.3687 16.8797 18.7125C16.5359 19.0564 16.0696 19.2495 15.5834 19.2495Z"
                            stroke="#22C55E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                          <path d="M8.25 8.24951H9.16667" stroke="#22C55E" stroke-width="1.5" stroke-linecap="round"
                            stroke-linejoin="round" />
                          <path d="M8.25 11.916H13.75" stroke="#22C55E" stroke-width="1.5" stroke-linecap="round"
                            stroke-linejoin="round" />
                          <path d="M8.25 15.583H13.75" stroke="#22C55E" stroke-width="1.5" stroke-linecap="round"
                            stroke-linejoin="round" />
                        </svg>
                      </span>
                      <div class="flex flex-col">
                        <h5 class="font-semibold text-bgray-900 dark:text-white  text-sm">
                          ID Card
                        </h5>
                        <span class="text-xs text-bgray-500">50 Kb</span>
                      </div>
                    </div>
                    
                    <button data-target="#multi-step-modal">
                      <svg class="stroke-bgray-900 dark:stroke-bgray-50" width="20" height="20" viewBox="0 0 20 20"
                        fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M17.5 12.4995V15.8328C17.5 16.2749 17.3244 16.6988 17.0118 17.0114C16.6993 17.3239 16.2754 17.4995 15.8333 17.4995H4.16667C3.72464 17.4995 3.30072 17.3239 2.98816 17.0114C2.67559 16.6988 2.5 16.2749 2.5 15.8328V12.4995"
                          stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M5.83337 8.33301L10 12.4997L14.1667 8.33301" stroke-width="1.5" stroke-linecap="round"
                          stroke-linejoin="round" />
                        <path d="M10 12.4995V2.49951" stroke-width="1.5" stroke-linecap="round"
                          stroke-linejoin="round" />
                      </svg>
                    </button>                    
                  </li>
                  <button data-target="#multi-step-modal"
                    class="bg-success-300 modal-open hover:bg-success-400 transition-all text-white py-4 w-full font-bold rounded-lg mt-7">
                    View Image
                  </button>
                </ul>
              </div>
              
              <div class="flex justify-center mt-8 m-5">
                <form action="" method="POST">
                  {% csrf_token %}
                  
                    <label for="status">Change Status:</label>
                      <select name="status" class="text-bgray-800 text-base border border-bgray-300 h-14 focus:border-success-300 focus:ring-0 rounded-lg placeholder:text-bgray-500 placeholder:text-base">
                        <option value="pending">Hold</option>
                        <option value="approved">Approve</option>
                        <option value="rejected">Reject</option>
                      </select>

                  <br>                                   
                  <button type="submit" data-target="#multi-step-modal"
                    class="bg-success-300 hover:bg-success-400 transition duration-300 ease-in-out modal-open py-3 px-7 text-white rounded-lg font-medium mt-5">
                    Save
                  </button>
                </form>
                
              </div>
            </aside>
          </div>
          <!-- write your code here-->
        </main>

        <!-- Modal -->
        <div class="modal hidden fixed inset-0 z-50 overflow-y-auto flex items-center justify-center" id="multi-step-modal">
          <div class="modal-overlay absolute inset-0 bg-gray-500 opacity-75"></div>
          <div class="modal-content flex justify-center w-full px-4 items-center mx-auto">
            <!-- Step 1 -->
            <div class="step-content step-1">
              <div class="max-w-[550px] rounded-lg bg-white p-8 pb-10 transition-all relative">
                <button id="step-1-cancel" class="flex justify-center items-center absolute top-6 right-6">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16.9492 7.05029L7.04972 16.9498" stroke="#22C55E" stroke-width="2" stroke-linecap="round"
                      stroke-linejoin="round" />
                    <path d="M7.0498 7.05029L16.9493 16.9498" stroke="#22C55E" stroke-width="2" stroke-linecap="round"
                      stroke-linejoin="round" />
                  </svg>
                </button>
                <header class="py-6 text-center px-8">
                  <h3 class="text-2xl font-bold text-bgray-900 mb-3">ID Card</h3>                  
                </header>
                
                <div class="flex flex-col md:flex-row justify-between gap-5 md:gap-x-8">
                  <div class="w-full md:w-2/2">
                    <div class="rounded mb-4">
                      <img src="assets/images/payments/card-sm.png" class="w-full" alt="" />
                    </div>
                    <div class="w-full rounded-lg focus-within:border-success-300 p-4 h-[98px] flex flex-col justify-between">
                      <div class="w-full h-[35px] flex justify-between items-center">
                        
                        <div>
                          <img src="{{ user_loan.id_card.url}}" alt="members" />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>                
              </div>
            </div>
            <!-- Step 2 -->
            <div class="step-content step-2 hidden">
              <div class="max-w-[420px] rounded-lg bg-white p-6 pb-10 transition-all relative">
                <button id="step-2-cancel"
                  class="w-6 h-6 bg-bgray-300 rounded-full flex justify-center items-center absolute top-6 right-6">
                  <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10.9498 1.05029L1.05033 10.9498" stroke="#718096" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round" />
                    <path d="M1.05029 1.05029L10.9498 10.9498" stroke="#718096" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round" />
                  </svg>
                </button>
                <header class="py-6 text-center mt-6">
                  <h3 class="text-2xl font-bold text-bgray-900 mb-3">
                    Add Currency
                  </h3>
                  <p class="text-xs font-medium text-bgray-600">
                    When you add a currency, any payments you receive in that
                    currency will be credited to that balance
                  </p>
                </header>
                <form action="my-wallet.html">
                  <div class="relative">
                    <span class="absolute left-4 top-4">
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="11.7666" cy="11.7664" r="8.98856" stroke="#1A202C" stroke-width="1.5"
                          stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M18.0183 18.4849L21.5423 21.9997" stroke="#1A202C" stroke-width="1.5" stroke-linecap="round"
                          stroke-linejoin="round" />
                      </svg>
                    </span>
                    <input type="text"
                      class="p-4 pl-12 w-full rounded-lg border border-bgray-300 placeholder:text-bgray-500 focus:border-success-300 focus:ring-0"
                      placeholder="Search" />
                  </div>
                </form>
                <ul class="pt-6 space-y-1">
                  <li class="flex justify-between items-center py-3">
                    <label for="au" class="flex items-center space-x-4">
                      <img src="assets/images/flag/australia.svg" alt="" />
                      <span class="text-base font-semibold">Australian Dollar</span>
                    </label>
                    <input type="checkbox" id="au"
                      class="rounded-full w-6 h-6 border-bgray-300 focus:accent-success-300 text-success-300 focus:ring-transparent" />
                  </li>
                  <li class="flex justify-between items-center py-3">
                    <label for="jp" class="flex items-center space-x-4">
                      <img src="assets/images/flag/japan.svg" alt="" />
                      <span class="text-base font-semibold">Japanese Yen</span>
                    </label>
                    <input type="checkbox" id="jp"
                      class="rounded-full w-6 h-6 border-bgray-300 focus:accent-success-300 text-success-300 focus:ring-transparent" />
                  </li>
                  <li class="flex justify-between items-center py-3">
                    <label for="uk" class="flex items-center space-x-4">
                      <img src="assets/images/flag/uk.svg" alt="" />
                      <span class="text-base font-semibold">United Kingdom</span>
                    </label>
                    <input type="checkbox" id="uk"
                      class="rounded-full w-6 h-6 border-bgray-300 focus:accent-success-300 text-success-300 focus:ring-transparent" />
                  </li>
                </ul>
                <button id="step-2-next"
                  class="bg-success-300 hover:bg-success-400 text-white font-medium text-sm py-4 flex justify-center items-center rounded-lg w-full mt-7">
                  Add a Currency
                </button>
              </div>
            </div>
            <!-- Step 3 -->
            <div class="step-content step-3 hidden">
              <div class="max-w-xl w-full rounded-lg bg-white p-5 md:px-14 md:py-8 transition-all">
                <header class="flex flex-col items-center">
                  <img src="assets/images/icons/invoice.svg" alt="" />
                  <h2 class="text-4xl font-medium text-bgray-900 font-poppins">
                    Payment successful
                  </h2>
                </header>
                <ul class="py-6 mt-10 border-t border-b border-gray-200 space-y-4">
                  <li class="flex justify-between">
                    <span class="font-medium text-bgray-900 text-2xl">Payment type</span>
                    <span class="text-2xl font-medium text-bgray-500">
                      Net Banking</span>
                  </li>
                  <li class="flex justify-between">
                    <span class="font-medium text-gray-900 text-2xl">Bank</span>
                    <span class="text-2xl font-medium text-bgray-500"> PayPal</span>
                  </li>
                  <li class="flex justify-between">
                    <span class="font-medium text-gray-900 text-2xl">Mobile</span>
                    <span class="text-2xl font-medium text-bgray-500">
                      +1 707 797 0462</span>
                  </li>
                  <li class="flex justify-between">
                    <span class="font-medium text-gray-900 text-2xl">Email</span>
                    <span class="text-2xl font-medium text-bgray-500">
                      markparker@mail.com</span>
                  </li>
                </ul>
                <ul class="pt-6 space-y-4">
                  <li class="flex justify-between">
                    <span class="font-bold text-gray-900 text-2xl">Amount paid</span>
                    <span class="text-2xl font-bold text-bgray-900"> $500.00</span>
                  </li>
                  <li class="flex justify-between">
                    <span class="font-medium text-gray-900 text-2xl">Transaction id</span>
                    <span class="text-2xl font-medium text-bgray-500">
                      123694559z6465</span>
                  </li>
                </ul>
                <div class="flex justify-center gap-8 mt-7">
                  <button class="bg-success-300 hover:bg-success-400 text-white text-xl font-medium py-2 px-5 rounded-md">
                    Print
                  </button>
                  <button id="step-2-cancel"
                    class="bg-success-300 hover:bg-success-400 text-white text-xl font-medium py-2 px-5 rounded-md">
                    Close
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

{% endblock content %}